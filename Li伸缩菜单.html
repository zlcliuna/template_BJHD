<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>li伸缩菜单</title>
		<link rel="stylesheet" type="text/css" href="resources/css/common.css"/>
		<link rel="stylesheet" type="text/css" href="resources/css/liShen.css"/>
	</head>
	<body>
		<ul class="list">
			<li><a href="javascript:;">Li01<span></span></a></li>
			<li><a href="javascript:;">Li02<span></span></a></li>
			<li><a href="javascript:;">Li03<span></span></a></li>
			<li><a href="javascript:;">Li04<span></span></a></li>
		</ul>
		<div class="subMenuBox">
			<ul class="subMenu">
				<li><a href="javascript:;">first_subLi011<span></span></a></li>
				<li><a href="javascript:;">first_subLi02<span></span></a></li>
				<li><a href="javascript:;">first_subLi03<span></span></a></li>
				<li><a href="javascript:;">first_subLi04<span></span></a></li>
			</ul>
			<div class="subMenuBox_second">
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi011</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi012</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi013</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi014</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
			</div>
			<ul class="subMenu">
				<li><a href="javascript:;">first_subLi012<span></span></a></li>
				<li><a href="javascript:;">first_subLi02<span></span></a></li>
				<li><a href="javascript:;">first_subLi03<span></span></a></li>
				<li><a href="javascript:;">first_subLi04<span></span></a></li>
			</ul>
			<div class="subMenuBox_second">
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
			</div>
			<ul class="subMenu">
				<li><a href="javascript:;">first_subLi013<span></span></a></li>
				<li><a href="javascript:;">first_subLi02<span></span></a></li>
				<li><a href="javascript:;">first_subLi03<span></span></a></li>
				<li><a href="javascript:;">first_subLi04<span></span></a></li>
			</ul>
			<div class="subMenuBox_second">
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
			</div>
			<ul class="subMenu">
				<li><a href="javascript:;">first_subLi014<span></span></a></li>
				<li><a href="javascript:;">first_subLi02<span></span></a></li>
				<li><a href="javascript:;">first_subLi03<span></span></a></li>
				<li><a href="javascript:;">first_subLi04<span></span></a></li>
			</ul>
			<div class="subMenuBox_second">
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
				<ul class="secSubMenu">
					<li><a href="javascript:;">second_subLi01</a></li>
					<li><a href="javascript:;">second_subLi02</a></li>
					<li><a href="javascript:;">second_subLi03</a></li>
					<li><a href="javascript:;">second_subLi04</a></li>
					<li><a href="javascript:;">second_subLi05</a></li>
				</ul>
			</div>
		</div>
		<script type="text/javascript" src="resources/js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript">
			$(function(){
				var fIdx = 0;
				$('.list>li').mouseenter(function(){
					fIdx = $(this).index();
					console.log(fIdx)
					$('.subMenuBox_second').hide();
					$('.list>li a').removeClass('on');
					$(this).find('a').addClass('on');
					$(this).parent().next('.subMenuBox').children('.subMenu').hide();
					$(this).parent().next('.subMenuBox').children('.subMenu').eq(fIdx).show();
					$(this).parent().next('.subMenuBox').css({'border':'solid 2px #82a2f1'});
					$('.secSubMenu').hide();
					$('.subMenu>li a').removeClass('on');
					$(this).parent().next('.subMenuBox').stop().animate({
						'height': '400px'
					})
				});
				$('.subMenuBox>.subMenu').mouseenter(function(){
					var index = $(this).index('.subMenu')%4;
					$('.list>li a').removeClass('on');
					$(this).parent('.subMenuBox').prev('.list').find('li').eq(fIdx).find('a').addClass('on');
					$(this).parent('.subMenuBox').css({'border':'solid 2px #82a2f1'});
					$('.subMenuBox>subMenu').hide();
					$(this).show();
					$(this).parent().stop().animate({
						'height': '400px'
					})
				});
 				$('.list>li').mouseleave(function(){
 					$('.list>li a').removeClass('on');
 					$(this).parent().next('.subMenuBox').stop().animate({
 						'height': '0'
 					},200)
					$('.subMenuBox').css({'border':'none'});
 				});
 				$('.subMenuBox>.subMenu').mouseleave(function(){
 					$(this).parent('.subMenuBox').prev('.list').find('li a').removeClass('on');
 					$(this).parent('.subMenuBox').stop().animate({
 						'height': '0'
 					},200)
					$('.subMenuBox').css({'border':'none'});
 				});
				
				//二级
				$('.subMenu>li').mouseenter(function(){
					var index = $(this).index()%4;
					$('.subMenu>li a').removeClass('on');
					$(this).find('a').addClass('on');
					$(this).parent().next('.subMenuBox_second').children('.secSubMenu').hide();
					$(this).parent().next('.subMenuBox_second').children('.secSubMenu').eq(index).show();
					$(this).parent().next('.subMenuBox_second').show()
				});
				$('.subMenuBox_second>.secSubMenu').mouseenter(function(){
					var index = $(this).index('.secSubMenu')%4;
					console.log(index);
					$('.subMenu>li a').removeClass('on');
					$(this).parent('.subMenuBox_second').prev('.subMenu').find('li').eq(index).find('a').addClass('on');
					$('.subMenuBox_second .secSubMenu').hide();
					$(this).show();
					$(this).parent('.subMenuBox_second').show();
					
					//上一级
					$('.list>li a').removeClass('on');
					$(this).parent('.subMenuBox_second').parent('.subMenuBox').prev('.list').find('li').eq(fIdx).find('a').addClass('on');
					$(this).parent('.subMenuBox_second').parent('.subMenuBox').css({'border':'solid 2px #82a2f1'});
					$('.subMenuBox>subMenu').hide();
					$(this).parent('.subMenuBox_second').parent('.subMenuBox').find('.subMenu').eq(fIdx).show();
					$(this).parent('.subMenuBox_second').parent('.subMenuBox').stop().animate({
						'height': '400px'
					})
				});
 				$('.subMenu>li').mouseleave(function(){
 					$('.subMenu>li a').removeClass('on');
 					$(this).parent().next('.subMenuBox_second').hide();
 				});
 				$('.subMenuBox_second>.secSubMenu').mouseleave(function(){
 					$(this).parent('.subMenuBox_second').prev('.subMenu').find('li a').removeClass('on');
 					$(this).parent('.subMenuBox_second').hide();
					$('.subMenu').hide();
					$(this).parent('.subMenuBox_second').prev('.subMenu').show();
 				});
 			});
			
		</script>
	</body>
</html>